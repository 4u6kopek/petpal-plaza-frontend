<div class="details-container">
  <h2>Pet Details</h2>
  @if (pet) {
  <div class="pet-card">
    <div class="image-container">
      <img
        [src]="pet.imageUrl"
        alt="{{ pet.name }}"
        class="pet-image"
        (error)="handleImageError($event)"
      />
    </div>
    <div class="pet-info">
      <h3>{{ pet.name }} ({{ pet.species }})</h3>
      <p><strong>Age:</strong> {{ pet.age | age }}</p>
      <p><strong>Description:</strong> {{ pet.description }}</p>
      <div class="like-section">
        @if (authService.isLoggedIn | async) {
        <button
          (click)="toggleLike()"
          [ngClass]="{ liked: isLiked }"
          class="like-btn"
        >
          {{ isLiked ? "Unlike" : "Like" }}
        </button>
        }
        <p>
          <strong>Likes:</strong> {{ pet.likes.length }}
          {{ pet.likes.length === 1 ? "Like" : "Likes" }}
        </p>
      </div>
      <p><strong>Comments:</strong> {{ pet.comments.length }}</p>
      <p class="owner-info">
        <span class="profile-picture">{{ getInitials(ownerUsername) }}</span>
        <strong>Owner:</strong> {{ ownerUsername || "Unknown User" }}
      </p>
      @if (pet.ownerId === authService.getUserId()) {
      <div class="button-group">
        <button (click)="deletePet()" class="delete-btn">Delete Pet</button>
        <a [routerLink]="['/edit', id]" class="edit-btn">Edit Pet</a>
      </div>
      }
    </div>
  </div>
  } @else {
  <p>Pet not found.</p>
  }
  <a routerLink="/catalog" class="back-btn">Back to Catalog</a>
</div>
